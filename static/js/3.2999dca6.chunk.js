(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{120:function(t,e,s){},121:function(t,e,s){t.exports={title:"MyPosts_title__2vXrG",newPost:"MyPosts_newPost__3oeDM"}},122:function(t,e,s){t.exports={post:"Post_post__2I-xx",comment:"Post_comment__L59d7"}},123:function(t,e,s){t.exports={profile:"Profile_profile__1CzLu"}},125:function(t,e,s){"use strict";s.r(e);var n=s(3),c=s(25),i=s(19),r=s(27),a=s(26),o=s(0),u=s.n(o),j=s(40),d=s(121),p=s.n(d),l=s(122),b=s.n(l),f=s(1),h=function(t){return Object(f.jsxs)("div",{className:b.a.post,children:[Object(f.jsx)("img",{src:"/user.png",alt:"logo"}),Object(f.jsxs)("div",{className:b.a.comment,children:[Object(f.jsx)("p",{children:t.message}),Object(f.jsxs)("p",{children:["like ",Object(f.jsx)("span",{children:t.countLike})]})]})]})},O=s(41),x=function(t){var e=Object(O.a)(),s=e.register,n=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:n((function(e){t.addPost(e.addPostText)})),children:[Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{type:"text",name:"addPostText",ref:s})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"Send post"})})]})},m=function(t){var e=t.posts.map((function(t){return Object(f.jsx)(h,{message:t.message,countLike:t.likesCount},t.id)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:p.a.title,children:"My Posts"}),Object(f.jsx)("div",{className:p.a.newPost,children:Object(f.jsx)("div",{children:Object(f.jsx)(x,{addPost:t.addPost})})}),e]})},v=s(21),P=Object(v.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:j.a})(m),g=s(123),_=s.n(g),S=s(120),y=s.n(S),U=s(29),k=s(20),w=function(t){var e=Object(o.useState)(!1),s=Object(k.a)(e,2),n=s[0],c=s[1],i=Object(o.useState)(t.status),r=Object(k.a)(i,2),a=r[0],u=r[1];Object(o.useEffect)((function(){u(t.status)}),[t.status]);return Object(f.jsx)("div",{children:n?Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onMouseLeave:function(){c(!1),t.updateUserStatus(a)},type:"text",value:a})}):Object(f.jsx)("div",{children:Object(f.jsx)("span",{onClick:function(){c(!0)},children:a||"changeStatus"})})})},M=function(t){return t.profile?Object(f.jsxs)("div",{className:y.a.profileInfo,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:t.profile.photos.small,alt:"small avatar"})}),Object(f.jsx)("div",{children:Object(f.jsx)(w,{status:t.status,updateUserStatus:t.updateUserStatus})}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:t.profile.aboutMe})})]}):Object(f.jsx)(U.a,{})},I=function(t){return Object(f.jsxs)("div",{className:_.a.profile,children:[Object(f.jsx)(M,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),Object(f.jsx)(P,{})]})},N=s(7),C=s(16),L=function(t){Object(r.a)(s,t);var e=Object(a.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorisedUserId)||this.props.history.push("/login"),t&&(this.props.getUserProfile(t),this.props.getUserStatus(t))}},{key:"render",value:function(){return Object(f.jsx)(I,Object(n.a)({},this.props))}}]),s}(u.a.Component);e.default=Object(C.d)(Object(v.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isAuthenticated:t.auth.isAuthenticated,authorisedUserId:t.auth.userId}}),{getUserProfile:j.c,getUserStatus:j.d,updateUserStatus:j.e}),N.f)(L)}}]);
//# sourceMappingURL=3.2999dca6.chunk.js.map